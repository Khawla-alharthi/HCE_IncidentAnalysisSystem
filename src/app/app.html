<!-- HEADER -->
<nav class="navbar navbar-expand-lg mb-4">
  <div class="container">
    <a class="navbar-brand" href="#">HSE Incident Analysis System</a>
  </div>
</nav>

<!-- INPUT FORM -->
<div class="container">
  <div class="card p-4">
    <h4 class="mb-3">Record New Incident</h4>
    <form id="incidentForm">
      <div class="mb-3">
        <label for="incidentInput" class="form-label">Incident Description</label>
        <textarea class="form-control" id="incidentInput" rows="3" placeholder="Enter the incident description (e.g., Worker slipped on wet floor in warehouse)" required></textarea>
        <div class="form-text">Provide a detailed description of the incident for accurate analysis.</div>
      </div>
      <div class="mb-3">
        <label for="levelInput" class="form-label">Analysis Depth Level</label>
        <input type="number" class="form-control" id="levelInput" placeholder="Enter analysis depth (1-5)" min="1" max="5" value="3" required>
        <div class="form-text">Level 1-2: Basic analysis, Level 3-4: Detailed analysis, Level 5: Comprehensive analysis</div>
      </div>
      <div class="d-grid gap-2 d-md-flex justify-content-md-end">
        <button type="submit" class="btn btn-primary me-md-2">Generate Cause-Effect Diagram</button>
      </div>
    </form>

    <!-- LOADING SPINNER -->
    <div class="loading-spinner" id="loadingSpinner">
      <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Analyzing incident...</span>
      </div>
      <p class="mt-2">Analyzing incident and generating diagram...</p>
    </div>
  </div>

  <!-- CHART SECTION -->
  <div class="card p-4 mt-4" id="chartSection" style="display: none;">
    <h4 class="mb-3">Cause-Effect Analysis Diagram</h4>
    <div class="d-grid gap-2 d-md-flex justify-content-md-start p-2">
      <button type="button" class="btn btn-secondary" id="exportPdfBtn" disabled>Export as PDF</button>
    </div>
    <div class="chart-container">
      <div id="incidentChart" style="width: 100%; height: 600px; background: #f8f9fa;"></div>
    </div>
  </div>
</div>
